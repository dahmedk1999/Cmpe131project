<!DOCTYPE html>
<html>
  <head>

    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
/**
 * Data object to be written to Firebase.
 */
var data = 
{
    sender: null,
    timestamp: null,
    lat: null,
    lng: null,
    distance:null
};

function makeInfoBox(controlDiv, map) {
  // Set CSS for the control border.
  var controlUI = document.createElement('div');
  controlUI.style.boxShadow = 'rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px';
  controlUI.style.backgroundColor = '#fff';
  controlUI.style.border = '2px solid #fff';
  controlUI.style.borderRadius = '2px';
  controlUI.style.marginBottom = '22px';
  controlUI.style.marginTop = '10px';
  controlUI.style.textAlign = 'center';
  controlDiv.appendChild(controlUI);
}


      /**
       * Creates a map object with a click listener and a marker.
       */
      var myLatlng = new google.maps.LatLng(37.337341228,-121.8766039);

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 37.337341228, lng: -121.8766039},
          zoom: 12,
          styles: [{
            featureType: 'poi',
            stylers: [{ visibility: 'on' }]  // Turn on POI.
          },
          {
            featureType: 'transit.station',
            stylers: [{ visibility: 'on' }]  // Turn on bus, train stations etc.
          }],
          disableDoubleClickZoom: true,
          streetViewControl: true,
        });


        // Listen for clicks and add the location of the click to firebase.
        google.maps.event.addListener(map, 'dblclick', function (event) {
          placestartMarker(event.latLng);
          data.lat = event.latLng.lat();
          data.lng = event.latLng.lng();
        });

        // Create a starting marker.
        function placestartMarker(location) {
          
          var marker = new google.maps.Marker({
            position: location,
            map: map,
            draggable: true,
            data:[]
          });
        }
      }
    </script>
    <script defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD_eiQ1CH1VTFNnQLGLxigPL-F76Gplu0U&libraries=visualization&callback=initMap">
    </script>
  </body>
</html>